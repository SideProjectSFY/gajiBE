# Gaji Backend - Main Configuration
# Profile-specific configurations are in application-{profile}.yml

spring:
  application:
    name: gaji-backend

  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

  # Default Security Configuration (overridden by profiles)
  security:
    jwt:
      secret: ${JWT_SECRET:default-secret-key-minimum-32-chars-required-for-hs256}
      expiration: ${JWT_EXPIRATION:86400000} # 24 hours

  # Jackson Configuration
  jackson:
    serialization:
      write-dates-as-timestamps: false
    time-zone: UTC
    default-property-inclusion: non_null

# Server Configuration
server:
  port: ${PORT:8080}
  error:
    include-message: always
    include-binding-errors: always
    include-stacktrace: on_param
    include-exception: false

# Actuator Configuration
management:
  endpoints:
    web:
      base-path: /actuator
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: when-authorized
      probes:
        enabled: true
  health:
    livenessState:
      enabled: true
    readinessState:
      enabled: true

# Logging Configuration
logging:
  level:
    root: INFO
    com.gaji.corebackend: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] [%X{correlationId:-}] %-5level %logger{36} - %msg%n"

# SpringDoc OpenAPI Configuration
springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
    operations-sorter: alpha
    tags-sorter: alpha
  show-actuator: true

# FastAPI Proxy Configuration (default values)
fastapi:
  base-url: ${FASTAPI_BASE_URL:http://localhost:8000}
  timeout: ${FASTAPI_TIMEOUT:60}
  retry:
    max-attempts: ${FASTAPI_RETRY_MAX_ATTEMPTS:3}

# CORS Configuration (default values)
cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:5173}

